package _20181029쓰레드;

import java.util.ArrayList;

class Buffer {
	private int data;
	private int empty=0;
	private ArrayList<Integer> list=new ArrayList<>();
	//비어있으면 true, 물건이 있으면 false
	
	public synchronized ArrayList<Integer> get() {
		while((empty%3!=0)||(empty==0)) {
			try {
				wait();
			} catch(InterruptedException e) {
				e.printStackTrace();
			}
		}
		empty=0;
		notifyAll();
		return list;
		
	}
	
	public synchronized void put(ArrayList<Integer> list) {
		while((empty%3==0)&&(empty!=0)) {	//버퍼에 상품이 이미 있을경우
			try {		//생산자가 기다려야함
				wait();
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		}
		list.add(data);
		empty++;
		this.list=list;
		notifyAll();
	}
}
